import Navbar from '@/components/Navbar';
import Footer from '@/components/Footer';
import PriceTicker from '@/components/PriceTicker';
import PriceChart from '@/components/PriceChart';

export default function Home() {
  return (
    <main>
      <Navbar />
      <section className="mx-auto max-w-6xl px-4 pt-10">
        <div className="rounded-2xl border border-neutral-800/60 bg-neutral-900/30 p-8 overflow-hidden relative">
          <div className="absolute inset-0 -z-10 opacity-20 gold-gradient" />
          <h1 className="text-3xl sm:text-4xl font-black text-gold">???? ??????? ???</h1>
          <p className="mt-3 text-neutral-300">????? ???? ??? ?????? ????? ?? ???? ? ?????? ????.</p>
          <div className="mt-6 grid gap-4 sm:grid-cols-2">
            <div className="card">
              <h3 className="font-semibold mb-2">??? ????</h3>
              <p className="text-neutral-300 text-sm leading-7">??? ?? ????? ??????? ??? ?????? ?????? ??????. ?? ??? ??????? ????????? ???? ??? ??? ?? ?????? ???? ? ????????? ??????? ????? ????.</p>
            </div>
            <div className="card">
              <h3 className="font-semibold mb-2">???? ???</h3>
              <p className="text-neutral-300 text-sm leading-7">??????? ????????? ????? ??? ??????????? ??? ? ?????? ????? ???????????? ?????.</p>
            </div>
          </div>
        </div>
      </section>
      <PriceTicker />
      <PriceChart />
      <section id="calc" className="mx-auto max-w-6xl px-4 mt-6">
        <div className="card">
          <h2 className="text-lg font-semibold text-gold mb-3">????? ???? ????? (??? ? ???)</h2>
          <Converter />
        </div>
      </section>
      <Footer />
    </main>
  );
}

function Converter() {
  const [gramValue, setGramValue] = (require('react') as typeof import('react')).useState<string>('1');
  const grams = parseFloat(gramValue || '0') || 0;
  const ounce = grams / 31.1035;
  return (
    <div className="grid sm:grid-cols-2 gap-4">
      <div>
        <label className="text-sm text-neutral-300">??? ?? ???</label>
        <input value={gramValue} onChange={(e) => setGramValue(e.target.value)} className="mt-2 w-full rounded-lg bg-neutral-900/60 border border-neutral-800/60 px-3 py-2 outline-none focus:ring-1 focus:ring-gold-500" />
      </div>
      <div>
        <label className="text-sm text-neutral-300">??? ?? ???</label>
        <input value={ounce.toFixed(4)} readOnly className="mt-2 w-full rounded-lg bg-neutral-900/60 border border-neutral-800/60 px-3 py-2" />
      </div>
    </div>
  );
}
